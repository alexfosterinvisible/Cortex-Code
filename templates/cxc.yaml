# .cxc.yaml - CXC Framework Configuration
# All options shown with defaults - customize as needed

# REQUIRED: Project identification (usually matches GitHub org/repo)
project_id: "__PROJECT_ID__"

# PATHS

# Where CXC stores state, logs, worktrees (relative to project root)
artifacts_dir: "./artifacts"

# Base path for writing apps/features: ./src/<appname>, ./apps/<appname>, etc.
source_root: "./src"

# PORTS - For isolated worktrees (supports 15 concurrent agents)
ports:
  backend_start: 9100
  backend_count: 15
  frontend_start: 9200
  frontend_count: 15

# COMMANDS - Claude command paths (framework + project overrides)
commands:
  - "${CXC_FRAMEWORK}/commands"   # Built-in CXC commands
  - ".claude/commands"            # Project-specific overrides

# FEATURE FLAGS - Toggle CXC behaviors
features:
  # Where issues come from: github | local_json | sqlite | yaml
  issue_source: "github"
  
  # Workflow isolation: worktree | branch_only | docker | none
  isolation: "worktree"
  
  # Agent execution: claude_code | anthropic_api | openai
  agent_backend: "claude_code"
  
  # State persistence: json_file | sqlite | yaml
  state_backend: "json_file"
  
  # GitHub integration toggles
  github:
    comments: true        # Post status updates to issues
    create_prs: true      # Auto-create PRs
    auto_merge: false     # ZTE auto-merge (dangerous!)
  
  # Artifact storage
  artifacts:
    backend: "local"      # local | r2 | s3
    screenshots: true     # Capture review screenshots

# APP CONFIG - Project-specific settings (customize for your stack)
app:
  # Directory structure
  backend_dir: "app/server"         # Backend code location
  frontend_dir: "app/client"        # Frontend code location

  # Scripts
  start_script: "scripts/start.sh"  # App startup script
  stop_script: "scripts/stop.sh"    # App shutdown script
  reset_db_script: "scripts/reset_db.sh"  # Database reset script

  # Commands
  test_command: "uv run pytest"     # Run tests
  lint_command: "uv run ruff check" # Run linter
  build_command: "uv run build"     # Build command
