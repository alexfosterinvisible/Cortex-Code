classDiagram
    class core_aea_data_types_AEAMessage {
        +who: Literal['user', 'agent']
        +content: str
        +created: str
    }
    BaseModel <|-- core_aea_data_types_AEAMessage
    class core_aea_data_types_AEAAgent {
        +id: Optional[int]
        +agent_id: str
        +agent_name: Optional[str]
        +adw_id: str
        +cc_session_id: Optional[str]
    }
    BaseModel <|-- core_aea_data_types_AEAAgent
    class core_aea_data_types_AEAPromptRequest {
        +agent_id: str
        +prompt: str
    }
    BaseModel <|-- core_aea_data_types_AEAPromptRequest
    class core_aea_data_types_AEAPromptResponse {
        +success: bool
        +agent: AEAAgent
        +error: Optional[str]
    }
    BaseModel <|-- core_aea_data_types_AEAPromptResponse
    class core_aea_data_types_AEANewAgentResponse {
        +agent: AEAAgent
    }
    BaseModel <|-- core_aea_data_types_AEANewAgentResponse
    class core_aea_data_types_AEAServerStatus {
        +running: bool
        +version: Optional[str]
    }
    BaseModel <|-- core_aea_data_types_AEAServerStatus
    class core_aea_data_types_AEAEndAgentRequest {
        +agent_id: str
    }
    BaseModel <|-- core_aea_data_types_AEAEndAgentRequest
    class core_config_PortConfig {
        +backend_start: int
        +backend_count: int
        +frontend_start: int
        +frontend_count: int
    }
    class core_config_ADWConfig {
        +project_root: Path
        +project_id: str
        +artifacts_dir: Path
        +ports: PortConfig
        +commands: List[Path]
        +load(cls, project_root) 'ADWConfig'
        +get_project_artifacts_dir(self) Path
        +get_agents_dir(self, adw_id) Path
        +get_trees_dir(self) Path
    }
    class core_data_types_RetryCode {
        +CLAUDE_CODE_ERROR
        +TIMEOUT_ERROR
        +EXECUTION_ERROR
        +ERROR_DURING_EXECUTION
        +NONE
    }
    str <|-- core_data_types_RetryCode
    Enum <|-- core_data_types_RetryCode
    class core_data_types_GitHubUser {
        +id: Optional[str]
        +login: str
        +name: Optional[str]
        +is_bot: bool
    }
    BaseModel <|-- core_data_types_GitHubUser
    class core_data_types_GitHubLabel {
        +id: str
        +name: str
        +color: str
        +description: Optional[str]
    }
    BaseModel <|-- core_data_types_GitHubLabel
    class core_data_types_GitHubMilestone {
        +id: str
        +number: int
        +title: str
        +description: Optional[str]
        +state: str
    }
    BaseModel <|-- core_data_types_GitHubMilestone
    class core_data_types_GitHubComment {
        +id: str
        +author: GitHubUser
        +body: str
        +created_at: datetime
        +updated_at: Optional[datetime]
    }
    BaseModel <|-- core_data_types_GitHubComment
    class core_data_types_GitHubIssueListItem {
        +number: int
        +title: str
        +body: str
        +labels: List[GitHubLabel]
        +created_at: datetime
    }
    BaseModel <|-- core_data_types_GitHubIssueListItem
    class core_data_types_GitHubIssue {
        +number: int
        +title: str
        +body: str
        +state: str
        +author: GitHubUser
    }
    BaseModel <|-- core_data_types_GitHubIssue
    class core_data_types_AgentPromptRequest {
        +prompt: str
        +adw_id: str
        +agent_name: str
        +model: Literal['sonnet', 'opus']
        +dangerously_skip_permissions: bool
    }
    BaseModel <|-- core_data_types_AgentPromptRequest
    class core_data_types_AgentPromptResponse {
        +output: str
        +success: bool
        +session_id: Optional[str]
        +retry_code: RetryCode
    }
    BaseModel <|-- core_data_types_AgentPromptResponse
    class core_data_types_AgentTemplateRequest {
        +agent_name: str
        +slash_command: SlashCommand
        +args: List[str]
        +adw_id: str
        +model: Literal['sonnet', 'opus']
    }
    BaseModel <|-- core_data_types_AgentTemplateRequest
    class core_data_types_ClaudeCodeResultMessage {
        +type: str
        +subtype: str
        +is_error: bool
        +duration_ms: int
        +duration_api_ms: int
    }
    BaseModel <|-- core_data_types_ClaudeCodeResultMessage
    class core_data_types_TestResult {
        +test_name: str
        +passed: bool
        +execution_command: str
        +test_purpose: str
        +error: Optional[str]
    }
    BaseModel <|-- core_data_types_TestResult
    class core_data_types_E2ETestResult {
        +test_name: str
        +status: Literal['passed', 'failed']
        +test_path: str
        +screenshots: List[str]
        +error: Optional[str]
        +passed(self) bool
    }
    BaseModel <|-- core_data_types_E2ETestResult
    class core_data_types_ADWStateData {
        +adw_id: str
        +issue_number: Optional[str]
        +branch_name: Optional[str]
        +plan_file: Optional[str]
        +issue_class: Optional[IssueClassSlashCommand]
    }
    BaseModel <|-- core_data_types_ADWStateData
    class core_data_types_ReviewIssue {
        +review_issue_number: int
        +screenshot_path: str
        +screenshot_url: Optional[str]
        +issue_description: str
        +issue_resolution: str
    }
    BaseModel <|-- core_data_types_ReviewIssue
    class core_data_types_ReviewResult {
        +success: bool
        +review_summary: str
        +review_issues: List[ReviewIssue]
        +screenshots: List[str]
        +screenshot_urls: List[str]
    }
    BaseModel <|-- core_data_types_ReviewResult
    class core_data_types_DocumentationResult {
        +success: bool
        +documentation_created: bool
        +documentation_path: Optional[str]
        +error_message: Optional[str]
    }
    BaseModel <|-- core_data_types_DocumentationResult
    class core_data_types_ADWExtractionResult {
        +workflow_command: Optional[str]
        +adw_id: Optional[str]
        +model_set: Optional[ModelSet]
        +has_workflow(self) bool
    }
    BaseModel <|-- core_data_types_ADWExtractionResult
    class core_state_ADWState {
        +STATE_FILENAME
        +__init__(self, adw_id)
        +update(self)
        +get(self, key, default)
        +append_adw_id(self, adw_id)
        +get_working_directory(self) str
        +get_state_path(self) str
        +save(self, workflow_step) None
        +load(cls, adw_id, logger) Optional['ADWState']
        +from_stdin(cls) Optional['ADWState']
        +to_stdout(self)
    }
    class integrations_r2_uploader_R2Uploader {
        +__init__(self, logger)
        +_initialize(self) None
        +upload_file(self, file_path, object_key) Optional[str]
        +upload_screenshots(self, screenshots, adw_id) Dict[str, str]
    }